# Ads Monkee Environment Configuration
# Copy this file to .env and fill in your actual credentials
# NEVER commit .env to version control

# ============================================================================
# DATABASE
# ============================================================================
DATABASE_URL=postgresql://user:password@localhost:5432/ads_monkee
# Production (Render): postgresql://user:pass@postgres.render.com/ads_monkee

# ============================================================================
# REDIS (Message Broker for Celery)
# ============================================================================
REDIS_URL=redis://localhost:6379
# Production (Render): redis://redis.render.com:6379

# ============================================================================
# GOOGLE ADS API
# ============================================================================
# Copy from your existing ads_sync/.env or google-ads-manager/.env
GOOGLE_ADS_DEVELOPER_TOKEN=your_developer_token_here
GOOGLE_ADS_CLIENT_ID=your_client_id.apps.googleusercontent.com
GOOGLE_ADS_CLIENT_SECRET=your_client_secret
GOOGLE_ADS_REFRESH_TOKEN=your_refresh_token
GOOGLE_ADS_LOGIN_CUSTOMER_ID=123-456-7890
# Optional: If different from login customer ID
GOOGLE_ADS_CUSTOMER_ID=

# ============================================================================
# GOHIGHLEVEL (GHL) OAuth
# ============================================================================
# Create OAuth app in GHL: Settings → Integrations → OAuth Apps
GHL_CLIENT_ID=your_ghl_oauth_client_id
GHL_CLIENT_SECRET=your_ghl_oauth_client_secret
GHL_REDIRECT_URI=http://localhost:8000/auth/ghl/callback
# Production: https://ads-monkee.onrender.com/auth/ghl/callback

# GHL API Keys (per location, if not using OAuth)
# ASTRO Location
GHL_API_KEY_ASTRO=your_astro_api_key
GHL_LOCATION_ID_ASTRO=EBM9gWUowJo5vJYCKzjZ

# Priority Roofing Location
GHL_API_KEY_PRIORITY=your_priority_api_key
GHL_LOCATION_ID_PRIORITY=Gyvdx4lZarbW0wUdIGur

# ============================================================================
# LLM CONFIGURATION (AI Analysis)
# ============================================================================
# Primary LLM Provider (openai or anthropic)
LLM_PROVIDER=openai
# Model selection
LLM_MODEL=gpt-4o-mini
# Options: gpt-4o-mini, gpt-4-turbo, gpt-4o

# OpenAI API Key
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic API Key (for future multi-agent consensus)
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
# Cost estimation: ~$0.015 per analysis (2 Claude calls @ ~4K tokens each)

# ============================================================================
# APPLICATION CONFIG
# ============================================================================
# Security
JWT_SECRET=your-random-secret-key-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Environment
ENVIRONMENT=development
# Options: development, staging, production

# Logging
LOG_LEVEL=DEBUG
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# CORS (Frontend URLs)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
# Production: https://ads-monkee.onrender.com

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# CELERY CONFIG
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_ALWAYS_EAGER=False
# Set to True for synchronous execution in development

# ============================================================================
# SCHEDULED TASKS (Celery Beat)
# ============================================================================
# Data Sync Schedule (cron format: minute hour day month day_of_week)
SYNC_SCHEDULE_CRON=0 2 * * *
# Default: Daily at 2 AM

# Analysis Schedule (if automated)
ANALYSIS_SCHEDULE_CRON=0 9 * * 1
# Default: Weekly on Monday at 9 AM

# ============================================================================
# GOOGLE ADS API CONFIGURATION
# ============================================================================
# Rate Limiting
GOOGLE_ADS_MAX_RETRIES=3
GOOGLE_ADS_RETRY_DELAY_SECONDS=5
GOOGLE_ADS_TIMEOUT_SECONDS=300

# Data Sync Config
SYNC_LOOKBACK_DAYS=7
# How many days of historical data to sync on each run

# ============================================================================
# ANALYSIS CONFIGURATION
# ============================================================================
# Multi-Agent Consensus Thresholds
CONSENSUS_SIMILARITY_THRESHOLD=0.85
# If similarity between agents > 0.85, skip 3rd agent

# AI Confidence Thresholds
HIGH_CONFIDENCE_THRESHOLD=0.95
MEDIUM_CONFIDENCE_THRESHOLD=0.75

# Recommendation Filters
MIN_WASTED_SPEND_THRESHOLD=15.00
# Minimum spend on zero-conv term to flag as negative candidate

MIN_CLICKS_FOR_NEGATIVE=3
# Minimum clicks with zero conversions to flag

# ============================================================================
# DEPLOYMENT (RENDER)
# ============================================================================
# Set by Render automatically in production
PORT=8000
# Web service port

RENDER_EXTERNAL_URL=
# Auto-populated by Render

RENDER_SERVICE_NAME=
# Auto-populated by Render

# ============================================================================
# OPTIONAL: SENTRY ERROR TRACKING
# ============================================================================
SENTRY_DSN=
# https://your-sentry-dsn@sentry.io/project-id

# ============================================================================
# OPTIONAL: EMAIL NOTIFICATIONS
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=notifications@adsmonkee.com
SMTP_FROM_NAME=Ads Monkee

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit .env to Git - it's in .gitignore
# 2. Use strong random values for JWT_SECRET
# 3. Production DATABASE_URL and REDIS_URL come from Render dashboard
# 4. GHL OAuth requires redirect URI to be registered in GHL app settings
# 5. Claude API key has usage limits - monitor costs in Anthropic dashboard

